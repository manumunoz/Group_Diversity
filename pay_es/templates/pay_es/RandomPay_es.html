{% extends "global/Page.html" %}
{% load staticfiles otree_tags %}

{% block title %}
<div class="container">
    <div class="row">
        <div class="col-md-12 border rounded p-1 mb-0" id="dark_bg">
            <h1 id="light_txt"> Resultados y Ganancias</h1>
        </div>
    </div>
</div>
{% endblock %}


{% block content %}
<div class="container">
    <div class="row">
    <!-- Min. Effort ONE -->
        <div class="col-md-2 border border-dark rounded p-3 mb-1" id="light_bg">
            <h5>Parte {{ Constants.part_pre_min }}:</h5>
              <p id="medium_txt">
                        Su elección:
                        <br>
                        <b>{{ player.first_effort }}</b>
{#                  <button type="button" class="btn button btn-dark btn-sm" disabled>{{ player.first_effort }}</button>#}
                    <br><br>
                        Menor número elegido:
                        <br>
                  <b>{{ player.first_min_effort }}</b>
{#                        <button type="button" class="btn button btn-dark btn-sm" disabled>{{ player.first_min_effort }}</button>#}
                </p>
        </div>
    <!-- Coordination Game -->
        <div class="col-md-5 border border-dark rounded p-3 mb-1" id="light_bg">
            <h5>Parte {{ Constants.part_coord }}:</h5>
            <p id="dark_txt">
                Las {{ Constants.chosen_num_rounds }} rondas seleccionadas fueron:
                <div class="center">
                    <b>{{ Constants.pay_rounds }}</b>
                </div>
                <br>
                Su grupo coordinó en <b> {{ player.coordination }} </b> rondas, de la siguiente manera:
                <br><br>
                <div class="center">
                    <button type="button" class="btn btn-warning btn-sm" disabled>{{ player.win_one }}</button>
                    <button type="button" class="btn btn-success btn-sm" disabled>{{ player.win_two }}</button>
                    <button type="button" class="btn btn-info btn-sm" disabled>{{ player.win_three }}</button>
                    <button type="button" class="btn btn-danger btn-sm" disabled>{{ player.win_four }}</button>
                </div>
            </p>
            <p id="brown">
                Puntos acumulados en su grupo: <b> {{ player.group_points }} </b>
                <br><br>
                Puntos acumulados por usted: <b> {{ player.my_points }} </b>
            </p>
        </div>
    <!-- Min. Effort TWO -->
        <div class="col-md-2 border border-dark rounded p-3 mb-1" id="light_bg">
            <h5>Parte {{ Constants.part_post_min }}:</h5>
            <p id="medium_txt">
                Su elección:
                <br>
                <b>{{ player.second_effort }}</b>
                <br><br>
                Menor número elegido:
                <br>
                <b>{{ player.second_min_effort }}</b>
            </p>
        </div>
    <!-- Allocation -->
        <div class="col-md-3 border border-dark rounded p-3 mb-1" id="light_bg">
            <h5>Parte {{ Constants.part_alloc }}:</h5>
            <p id="dark_txt">
                {% if player.chosen_pair == 1 %}
                    Su pareja:
                    <br>
                    <b>fue elegida</b>
                {% else %}
                    Su pareja:
                    <br>
                    <b>no fue elegida</b>
                {% endif %}
            </p>
        </div>
    </div>


    <div class="row">
    <!-- Min. Effort ONE -->
        <div class="col-md-4 border border-dark rounded p-3 mb-1" id="dark_bg">
            <div>
                <h4 id="light_txt"> En la parte {{ Constants.part_pre_min }} usted gana:</h4>
                <h5 id="bright_txt">{{ player.first_my_points }} {{ Constants.exp_currency }}</h5>
                <br>
                <h4 id="light_txt"> En la parte {{ Constants.part_coord }} usted gana:</h4>
                <h5 id="bright_txt">{{ player.coord_points}} {{ Constants.exp_currency }}</h5>
                <br>
                <h4 id="light_txt"> En la parte {{ Constants.part_post_min }} usted gana:</h4>
                <h5 id="bright_txt">{{ player.second_my_points }} {{ Constants.exp_currency }}</h5>
                <br>
                <h4 id="light_txt"> En la parte {{ Constants.part_alloc }} usted gana:</h4>
                <h5 id="bright_txt">{{ player.alloc_points }} {{ Constants.exp_currency }}</h5>
            </div>
        </div>
        <div class="col-md-8 border border-dark rounded p-3 mb-1" id="medium_bg">
          <p>
          En total, usted gana {{ player.total_points }} y cada {{ Constants.exp_currency }} será convertido a {{ Constants.currency_exchange }}
              {{ Constants.currency }}. Además, usted recibe un pago fijo de ({{ Constants.min_pay }} {{ Constants.currency }}).
              <br><br>
              Por lo tanto, su pago final es:
            <br>
        <h1>{{ participant.payoff_plus_participation_fee }}</h1>
          <br>
            <i>Si su pago final el menor a {{ Constants.min_pay }} {{ Constants.currency }} usted recibirá el pago fijo,
                así que usted ganará {{ Constants.min_pay }} {{ Constants.currency }}</i>
            <br><br>
            <h6 id="midi">Por favor permanezca sentado hasta que sea llamado para recibir su pago.</h6>
          </p>
            <button type="otree-btn-next" class="btn button btn-md" style="float: right;"> Terminar </button>
          <br><br>
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
    <style type="text/css">
        #cy {
            width: 100%;
            height: 100%;
            display: block;
        }
        #light_bg{
            background-color: #ffffff;
        }
        #medium_bg{
            background-color: #B3E5FC;
        }

        #dark_bg{
            background-color: #263238;
        }
        #light_txt{
            color: #ffffff;
        }
        #medium_txt{
            color: #3E2723;
        }
        #dark_txt{
            color: #000000;
        }
        #bright_txt {
            color: #B3E5FC;
        }
        .center {
            text-align: center;
        }
        .btn_pts {
            background-color: #ffffff;
            color: #000000;
            border: 2px solid #FDD835
        }

        .button {
            background-color: #FDD835;
            color: #000000;
            border: 2px solid #F9A825
        }
        .button:hover {
            background-color: #000000;
            color: #ffffff;
            border: 2px solid #FDD835
        }
    </style>
{% endblock %}